# Web 服务状态说明

## 📊 当前状态

**Web 服务未运行** - 这个问题**不严重**，取决于你的使用场景。

## 🔍 问题分析

### 1. 端口配置
- **监控脚本检查**: `http://localhost:3000` ❌ (错误)
- **实际配置**: `http://localhost:9000` ✅ (正确)
- **已修复**: 监控脚本已更新为检查正确的端口

### 2. 服务状态
- Web 服务确实未运行
- 端口 9000 未被占用
- 没有 Next.js 进程在运行

## ⚠️ 严重性评估

### 不严重的情况（当前场景）

如果你正在进行：
- ✅ **API 压力测试** - Web 服务不运行不影响
- ✅ **后端功能测试** - 只需要 API 服务
- ✅ **数据库/Redis 测试** - 不依赖 Web 服务
- ✅ **智能合约测试** - 不依赖 Web 服务

### 需要启动 Web 服务的情况

如果你需要：
- ❌ **前端功能测试** - 需要 Web 服务
- ❌ **端到端测试** - 需要完整的前后端
- ❌ **用户界面测试** - 需要 Web 服务
- ❌ **Farcaster Frame 测试** - 需要 Web 服务（虽然 Frame 可以直接访问 API）

## 🚀 如何启动 Web 服务

### 方式 1: 手动启动（推荐用于开发）

```bash
cd apps/web
pnpm dev
```

服务将在 `http://localhost:9000` 启动。

### 方式 2: 使用启动脚本

```bash
./scripts/start-dev.sh
```

这个脚本会同时启动 API 和 Web 服务。

### 方式 3: 后台运行

```bash
cd apps/web
nohup pnpm dev > logs/web.log 2>&1 &
```

## 📝 对于压力测试的影响

### 当前压力测试计划

根据 `docs/压力测试计划.md`：

1. **基础 API 压力测试** ✅
   - 不需要 Web 服务
   - 可以直接开始

2. **业务场景压力测试** ⚠️
   - 如果只测试 API 端点，不需要 Web 服务
   - 如果需要测试前端交互，需要 Web 服务

3. **完整压力测试** ⚠️
   - 建议启动 Web 服务以测试完整流程

### 建议

**对于当前的压力测试**：
- ✅ **可以继续进行** - API 压力测试不依赖 Web 服务
- ⚠️ **如果需要测试前端** - 先启动 Web 服务

## 🔧 监控脚本修复

监控脚本已修复，现在会检查正确的端口（9000）。

下次检查时，如果 Web 服务未运行，会显示：
```
⚠️  Web 服务: 未运行 (http://localhost:9000)
```

## 📊 服务依赖关系

```
┌─────────────┐
│  Web 前端   │ ← 可选（用于前端测试）
│  Port 9000  │
└──────┬──────┘
       │ HTTP 请求
       ▼
┌─────────────┐
│  API 后端   │ ← 必需（核心服务）
│  Port 3001  │
└──────┬──────┘
       │
       ├──→ PostgreSQL (必需)
       ├──→ Redis (必需)
       └──→ 智能合约 (必需)
```

## ✅ 总结

**Web 服务未运行不严重**，因为：
1. 压力测试主要针对 API，不依赖 Web 服务
2. Web 服务是前端界面，可以按需启动
3. 核心功能（API、数据库、Redis）都在正常运行

**建议**：
- 继续当前的 API 压力测试
- 如果需要测试前端功能，再启动 Web 服务
- 监控脚本已修复，会正确检查端口 9000

